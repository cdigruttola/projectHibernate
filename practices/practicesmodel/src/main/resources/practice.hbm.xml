<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping>
    <class name="it.cdigruttola.practices.model.PracticeModel" table="practices">
        <id name="pk" type="java.lang.String">
            <generator class="uuid"/>
        </id>
        <property name="id" type="java.lang.String" not-null="true"/>
        <property name="object" type="java.lang.String" not-null="true"/>
        <property name="sospension" type="java.lang.String"/>
        <property name="openDate" type="java.sql.Date" column="open_date"/>
        <property name="dueDate" type="java.sql.Date" column="due_date"/>
        <property name="closureDate" type="java.sql.Date" column="closure_date"/>
        <many-to-one name="customer" class="it.cdigruttola.practices.model.CustomerModel" lazy="false"/>
        <many-to-one name="employee" class="it.cdigruttola.practices.model.EmployeeModel" lazy="false"/>
        <property name="state">
            <type name="org.hibernate.type.EnumType">
                <param name="enumClass">it.cdigruttola.practices.enumeration.State</param>
                <param name="useNamed">true</param>
            </type>
        </property>
        <property name="type">
            <type name="org.hibernate.type.EnumType">
                <param name="enumClass">it.cdigruttola.practices.enumeration.Type</param>
                <param name="useNamed">true</param>
            </type>
        </property>
        <set table="activities" name="activities" cascade="all" lazy="false" inverse="true" fetch="join">
            <key column="practice"/>
            <one-to-many class="it.cdigruttola.practices.model.ActivityModel"/>
        </set>
        <set table="files" name="files" cascade="all" lazy="false" inverse="true" fetch="join">
            <key column="practice"/>
            <one-to-many class="it.cdigruttola.practices.model.FileModel"/>
        </set>
    </class>
</hibernate-mapping>
